<div class="container">
  <h1 class="title">Forgot Password</h1>
  <h5>Enter the email address associated with your account to request for an code via email</h5>
  @if (submitted) {
    <div class="success-message">
      Password reset link has been sent to your email.
    </div>
  }

  <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        placeholder="johndoe@gmail.com"
        [class.is-invalid]="email?.invalid && email?.touched"
      >
      @if (email?.touched) {
        @if (email?.errors?.['required']) {
          <div class="error-message">Email is required</div>
        }
        @if (email?.errors?.['email']) {
          <div class="error-message">Please enter a valid email</div>
        }
      }
    </div>

    <button
      type="submit"
      [disabled]="forgotPasswordForm.invalid || loading"
      class="form-button"
      [class.button-loading]="loading"
    >
      @if (loading) {
        <span>Sending...</span>
      } @else {
        <span>Send Reset Link</span>
      }
    </button>
  </form>
</div>
