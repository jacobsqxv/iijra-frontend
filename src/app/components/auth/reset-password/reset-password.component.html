<div class="container">
  <h1 class="title">Reset Password</h1>

  @if (error) {
    <div class="error-alert">
      {{ error }}
    </div>
  }

  <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="password" class="form-label">New Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        placeholder="Enter new password"
        class="form-input"
        [class.input-error]="password?.invalid && password?.touched"
      >
      @if (password?.touched) {
        @if (password?.errors?.['required']) {
          <div class="error-message">Password is required</div>
        }
        @if (password?.errors?.['minlength']) {
          <div class="error-message">Password must be at least 8 characters</div>
        }
      }
    </div>

    <div class="form-group">
      <label for="confirmPassword" class="form-label">Confirm Password</label>
      <input
        type="password"
        id="confirmPassword"
        formControlName="confirmPassword"
        placeholder="Confirm new password"
        class="form-input"
        [class.input-error]="confirmPassword?.invalid && confirmPassword?.touched"
      >
      @if (resetPasswordForm.errors?.['passwordMismatch'] && confirmPassword?.touched) {
        <div class="error-message">Passwords do not match</div>
      }
    </div>

    <button
      type="submit"
      [disabled]="resetPasswordForm.invalid || loading"
      class="submit-button"
      [class.button-loading]="loading"
    >
      @if (loading) {
        <span>Resetting...</span>
      } @else {
        <span>Reset Password</span>
      }
    </button>
  </form>
</div>
