<!-- login.component.html -->
<div class="container" xmlns="http://www.w3.org/1999/html">
  <div class="logo">
    <svg width="64" height="33" viewBox="0 0 64 33" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="16.1274" y="9.5376" width="5.6967" height="3.7978" fill="#02007A"/>
      <rect x="11.3801" y="14.6016" width="10.444" height="3.7978" fill="#02007A"/>
      <rect x="6" y="19.665" width="15.8242" height="3.7978" fill="#02007A"/>
      <path d="M27.2484 22V13.0234H29.738V22H27.2484ZM28.499 11.8662C28.1289 11.8662 27.8114 11.7435 27.5464 11.4981C27.2854 11.2487 27.1549 10.9506 27.1549 10.6039C27.1549 10.261 27.2854 9.96688 27.5464 9.72143C27.8114 9.47208 28.1289 9.3474 28.499 9.3474C28.8692 9.3474 29.1848 9.47208 29.4458 9.72143C29.7107 9.96688 29.8432 10.261 29.8432 10.6039C29.8432 10.9506 29.7107 11.2487 29.4458 11.4981C29.1848 11.7435 28.8692 11.8662 28.499 11.8662ZM31.7323 22V13.0234H34.2219V22H31.7323ZM32.983 11.8662C32.6128 11.8662 32.2953 11.7435 32.0304 11.4981C31.7693 11.2487 31.6388 10.9506 31.6388 10.6039C31.6388 10.261 31.7693 9.96688 32.0304 9.72143C32.2953 9.47208 32.6128 9.3474 32.983 9.3474C33.3531 9.3474 33.6687 9.47208 33.9297 9.72143C34.1947 9.96688 34.3271 10.261 34.3271 10.6039C34.3271 10.9506 34.1947 11.2487 33.9297 11.4981C33.6687 11.7435 33.3531 11.8662 32.983 11.8662ZM36.2162 13.0234H38.7059V22.4442C38.7059 23.1377 38.5695 23.6987 38.2968 24.1273C38.024 24.5558 37.6325 24.8695 37.1221 25.0682C36.6156 25.2669 36.0098 25.3662 35.3046 25.3662C35.2188 25.3662 35.137 25.3643 35.0591 25.3604C34.9773 25.3604 34.8916 25.3584 34.802 25.3545V23.4084C34.8682 23.4123 34.9266 23.4143 34.9773 23.4143C35.024 23.4182 35.0747 23.4201 35.1292 23.4201C35.5305 23.4201 35.8111 23.3344 35.9708 23.163C36.1344 22.9955 36.2162 22.7422 36.2162 22.4032V13.0234ZM37.4552 11.8662C37.089 11.8662 36.7734 11.7435 36.5085 11.4981C36.2435 11.2487 36.1111 10.9506 36.1111 10.6039C36.1111 10.261 36.2435 9.96688 36.5085 9.72143C36.7734 9.47208 37.089 9.3474 37.4552 9.3474C37.8292 9.3474 38.1468 9.47208 38.4078 9.72143C38.6727 9.96688 38.8052 10.261 38.8052 10.6039C38.8052 10.9506 38.6727 11.2487 38.4078 11.4981C38.1468 11.7435 37.8292 11.8662 37.4552 11.8662ZM40.7002 22V13.0234H43.1138V14.5896H43.2073C43.371 14.0325 43.6456 13.6117 44.0313 13.3273C44.4171 13.039 44.8612 12.8948 45.3638 12.8948C45.4885 12.8948 45.6229 12.9026 45.7671 12.9182C45.9112 12.9338 46.0378 12.9552 46.1469 12.9825V15.1916C46.03 15.1565 45.8684 15.1253 45.6619 15.0981C45.4554 15.0708 45.2664 15.0571 45.095 15.0571C44.7287 15.0571 44.4015 15.137 44.1132 15.2968C43.8287 15.4526 43.6028 15.6708 43.4352 15.9513C43.2716 16.2318 43.1898 16.5552 43.1898 16.9214V22H40.7002ZM49.7367 22.1695C49.164 22.1695 48.6536 22.0701 48.2055 21.8714C47.7575 21.6688 47.4029 21.3708 47.1419 20.9773C46.8848 20.5799 46.7562 20.0851 46.7562 19.4929C46.7562 18.9942 46.8477 18.5753 47.0309 18.2364C47.214 17.8974 47.4633 17.6247 47.7789 17.4182C48.0945 17.2117 48.4529 17.0558 48.8542 16.9506C49.2594 16.8455 49.6841 16.7714 50.1283 16.7286C50.6503 16.674 51.0711 16.6234 51.3906 16.5766C51.7101 16.526 51.9419 16.4519 52.086 16.3545C52.2302 16.2571 52.3023 16.113 52.3023 15.9221V15.887C52.3023 15.5169 52.1854 15.2305 51.9516 15.0279C51.7218 14.8253 51.3945 14.724 50.9698 14.724C50.5218 14.724 50.1653 14.8234 49.9003 15.0221C49.6354 15.2169 49.4601 15.4623 49.3744 15.7584L47.0718 15.5714C47.1886 15.026 47.4185 14.5545 47.7614 14.1571C48.1042 13.7558 48.5464 13.4481 49.088 13.2338C49.6335 13.0156 50.2646 12.9065 50.9815 12.9065C51.4802 12.9065 51.9575 12.9649 52.4133 13.0818C52.8731 13.1987 53.2802 13.3799 53.6348 13.6253C53.9932 13.8708 54.2757 14.1864 54.4822 14.5721C54.6886 14.9539 54.7919 15.4117 54.7919 15.9455V22H52.4309V20.7552H52.3607C52.2166 21.0357 52.0237 21.2831 51.7822 21.4974C51.5406 21.7078 51.2503 21.8734 50.9114 21.9942C50.5724 22.111 50.1809 22.1695 49.7367 22.1695ZM50.4497 20.4513C50.8159 20.4513 51.1393 20.3792 51.4198 20.2351C51.7003 20.087 51.9205 19.8883 52.0802 19.639C52.2399 19.3896 52.3198 19.1071 52.3198 18.7916V17.839C52.2419 17.8896 52.1348 17.9364 51.9984 17.9792C51.8659 18.0182 51.7159 18.0552 51.5484 18.0903C51.3809 18.1214 51.2133 18.1506 51.0458 18.1779C50.8783 18.2013 50.7263 18.2227 50.5899 18.2422C50.2977 18.2851 50.0425 18.3532 49.8244 18.4468C49.6062 18.5403 49.4367 18.6669 49.3159 18.8266C49.1951 18.9825 49.1348 19.1773 49.1348 19.411C49.1348 19.75 49.2575 20.0091 49.5029 20.1883C49.7523 20.3636 50.0679 20.4513 50.4497 20.4513Z" fill="#02007A"/>
    </svg>

  </div>

  <h1>Login</h1>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        placeholder="johndoe@gmail.com"
        [class.is-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
      >
      @if (loginForm.get('email')?.touched) {
        @if (loginForm.get('email')?.errors?.['required']) {
          <div class="error-hint">Email is required</div>
        }
        @if (loginForm.get('email')?.errors?.['email']) {
          <div class="error-hint">Please enter a valid email</div>
        }
      }
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        placeholder="************"
        [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
      >
      @if (loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']) {
        <div class="error-hint">Password is required</div>
      }
      <div class="forgot-password">
        <a routerLink="/forgot-password">Forgot Password?</a>
      </div>
    </div>

    @if (loginError) {
      <div class="error-message">
        <div class="error-icon">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="56" height="56" rx="28" fill="white"/>
            <path d="M28 33C28.2833 33 28.5208 32.9042 28.7125 32.7125C28.9042 32.5208 29 32.2833 29 32C29 31.7167 28.9042 31.4792 28.7125 31.2875C28.5208 31.0958 28.2833 31 28 31C27.7167 31 27.4792 31.0958 27.2875 31.2875C27.0958 31.4792 27 31.7167 27 32C27 32.2833 27.0958 32.5208 27.2875 32.7125C27.4792 32.9042 27.7167 33 28 33ZM27 29H29V23H27V29ZM28 38C26.6167 38 25.3167 37.7375 24.1 37.2125C22.8833 36.6875 21.825 35.975 20.925 35.075C20.025 34.175 19.3125 33.1167 18.7875 31.9C18.2625 30.6833 18 29.3833 18 28C18 26.6167 18.2625 25.3167 18.7875 24.1C19.3125 22.8833 20.025 21.825 20.925 20.925C21.825 20.025 22.8833 19.3125 24.1 18.7875C25.3167 18.2625 26.6167 18 28 18C29.3833 18 30.6833 18.2625 31.9 18.7875C33.1167 19.3125 34.175 20.025 35.075 20.925C35.975 21.825 36.6875 22.8833 37.2125 24.1C37.7375 25.3167 38 26.6167 38 28C38 29.3833 37.7375 30.6833 37.2125 31.9C36.6875 33.1167 35.975 34.175 35.075 35.075C34.175 35.975 33.1167 36.6875 31.9 37.2125C30.6833 37.7375 29.3833 38 28 38ZM28 36C30.2333 36 32.125 35.225 33.675 33.675C35.225 32.125 36 30.2333 36 28C36 25.7667 35.225 23.875 33.675 22.325C32.125 20.775 30.2333 20 28 20C25.7667 20 23.875 20.775 22.325 22.325C20.775 23.875 20 25.7667 20 28C20 30.2333 20.775 32.125 22.325 33.675C23.875 35.225 25.7667 36 28 36Z" fill="#E53939"/>
          </svg>

        </div>
        <div>
          <strong class="error-message-title">Login unsuccessful.</strong><br>
          <span class="error-message-details">
          Kindly check the email and password you entered.
          </span>

        </div>
      </div>
    }

    <button
      type="submit"
      class="form-button"
      [disabled]="loginForm.invalid || isLoading"
    >
      @if (isLoading) {
        <span>
          <i class="loading-spinner"></i> Logging in...
        </span>
      } @else {
        <span>Login</span>
      }
    </button>
  </form>
</div>
